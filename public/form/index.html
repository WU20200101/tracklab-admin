<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>TrackLab Admin-Lite (Form)</title>
  <link rel="stylesheet" href="./base.css" />
</head>

<body>
  <!-- 标题栏 -->
  <section class="card">
    <h1>TrackLab Admin-Lite（Form）</h1>
    <p class="muted">
      仅用于填写 / 更新 preset 当前 stage 的表单字段；
      不含 preview / generate / feedback / jobs / outcomes。
    </p>
  </section>

  <!-- 接口 / 平台 / 版本（只读） -->
  <section class="card">
    <div class="grid grid-3">
      <div>
        <label>接口地址</label>
        <input id="apiBase" disabled />
      </div>
      <div>
        <label>发布平台</label>
        <select id="packId" disabled>
          <option value="xhs">小红书</option>
        </select>
      </div>
      <div>
        <label>版本号</label>
        <select id="packVersion" disabled>
          <option value="v1.0.0">v1.0.0</option>
        </select>
      </div>
    </div>
  </section>

  <!-- 选择账号 -->
  <section class="card">
    <h2>一、选择账号</h2>
    <div class="grid grid-2">
      <div>
        <label>用户名</label>
        <select id="ownerSelect"></select>
      </div>
      <div>
        <label>账号</label>
        <select id="accountSelect"></select>
      </div>
    </div>
  </section>

  <!-- 选择角色 / Preset -->
  <section class="card">
    <h2>二、选择角色</h2>
    <div class="grid grid-3">
      <div>
        <label>角色</label>
        <select id="presetSelect"></select>
      </div>
    </div>
  </section>

  <!-- 表单 -->
  <section class="card">
    <h2>三、表单（自动回填；仅当前 stage 可编辑）</h2>
    <div id="formContainer"></div>
    <div id="saveBar" class="hidden">
      <button id="saveBtn">保存当前阶段表单</button>
    </div>
  </section>

  <!-- 调试 / Prompt 预览 -->
  <section class="card">
    <h2>调试（预览更新后的 prompt）</h2>
    <pre id="promptPreview">(empty)</pre>
  </section>

  <script src="./form.js"></script>
</body>
</html>
