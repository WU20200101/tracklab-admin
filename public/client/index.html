<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TrackLab 工作台</title>
  <link rel="stylesheet" href="../ui.css?v=ui_v1" />
</head>
<body>
  <div class="ui-wrap">

    <div class="ui-card">
      <h2 class="ui-title">TrackLab 工作台</h2>
      <div class="ui-sub">本页用于内容生成、反馈与交易回流。</div>
    </div>

    <div class="ui-card">
      <div class="ui-grid-3">
        <div>
          <label class="ui-label">接口地址</label>
          <input id="js-api-base" class="ui-input ui-input--readonly" type="text" readonly />
        </div>
        <div>
          <label class="ui-label">发布平台</label>
          <select id="js-pack-id" class="ui-select">
            <option value="xhs" selected>小红书</option>
          </select>
        </div>
        <div>
          <label class="ui-label">版本号</label>
          <select id="js-pack-version" class="ui-select">
            <option value="v1.0.0" selected>v1.0.0</option>
          </select>
        </div>
      </div>
      <div id="js-status" class="ui-status ui-status--info"></div>
    </div>

    <div class="ui-card">
      <div class="ui-blocktitle">一、选择账号</div>
      <div class="ui-grid-2">
        <div>
          <label class="ui-label">用户名</label>
          <select id="js-owner-select" class="ui-select"></select>
        </div>
        <div>
          <label class="ui-label">账号</label>
          <select id="js-account-select" class="ui-select">
            <option value="">请先选择用户名</option>
          </select>
        </div>
      </div>

      <div class="ui-sep ui-row">
        <div class="ui-grow">
          <label class="ui-label">新建账号 handle（可选）</label>
          <input id="js-account-handle" class="ui-input" placeholder="例如：xhs_01" />
        </div>
        <button id="js-account-refresh-btn" class="ui-btn">刷新账号</button>
        <button id="js-account-create-btn" class="ui-btn ui-btn--primary">新建账号</button>
      </div>

      <div class="ui-sep">
        <label class="ui-label">账号接口返回（debug）</label>
        <pre id="js-account-out" class="ui-pre">-</pre>
      </div>
    </div>

    <div class="ui-card">
      <div class="ui-blocktitle">二、选择角色</div>
      <div class="ui-grid-3">
        <div>
          <label class="ui-label">角色范围</label>
          <select id="js-preset-enabled-filter" class="ui-select">
            <option value="1" selected>仅有效角色</option>
            <option value="">全部角色（含淘汰）</option>
          </select>
        </div>
        <div>
          <label class="ui-label">按级别筛选</label>
          <select id="js-stage-filter" class="ui-select">
            <option value="">全部级别</option>
            <option value="S0">S0</option>
            <option value="S1">S1</option>
            <option value="S2">S2</option>
            <option value="S3">S3</option>
          </select>
        </div>
        <div>
          <label class="ui-label">角色</label>
          <select id="js-preset-select" class="ui-select">
            <option value="">请选择</option>
          </select>
        </div>
      </div>

      <div class="ui-sep ui-row">
        <button id="js-preset-refresh-btn" class="ui-btn">刷新角色列表</button>
        <button id="js-preset-load-btn" class="ui-btn">加载角色</button>
        <button id="js-preset-bind-account-btn" class="ui-btn">绑定角色→账号</button>
      </div>

      <div class="ui-sep">
        <label class="ui-label">角色接口返回（debug）</label>
        <pre id="js-preset-out" class="ui-pre">-</pre>
      </div>
    </div>

    <div class="ui-card">
      <div class="ui-blocktitle">三、脚本预览与内容生成</div>

      <div class="ui-row">
        <button id="js-preview-btn" class="ui-btn ui-btn--primary">预览脚本</button>
        <button id="js-generate-btn" class="ui-btn ui-btn--primary">生成内容</button>
      </div>

      <div class="ui-sep">
        <label class="ui-label">脚本预览</label>
        <pre id="js-preview-out" class="ui-pre">-</pre>
      </div>

      <div class="ui-sep">
        <label class="ui-label">内容文本（可复制）</label>
        <pre id="js-gen-text" class="ui-pre">-</pre>
      </div>

      <div class="ui-sep">
        <label class="ui-label">生成原始返回（debug）</label>
        <pre id="js-gen-raw" class="ui-pre">-</pre>
      </div>
    </div>

    <div class="ui-card">
      <div class="ui-blocktitle">四、账号反馈收集</div>

      <div class="ui-row">
        <div class="ui-grow"><label class="ui-label">Date</label><input id="js-fb-date" class="ui-input" type="date" /></div>
        <div class="ui-grow"><label class="ui-label">Posts</label><input id="js-fb-posts" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">Views</label><input id="js-fb-views" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">Likes</label><input id="js-fb-likes" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">Collects</label><input id="js-fb-collects" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">Comments</label><input id="js-fb-comments" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">DM Inbound</label><input id="js-fb-dm" class="ui-input" type="number" min="0" step="1" value="0" /></div>
      </div>

      <div class="ui-sep">
        <label class="ui-label">Note（可选）</label>
        <input id="js-fb-note" class="ui-input" placeholder="如：今天发了2条；有1条爆了" />
      </div>

      <div class="ui-sep ui-row">
        <button id="js-feedback-submit-btn" class="ui-btn ui-btn--primary">提交反馈并评估</button>
      </div>

      <div class="ui-sep">
        <label class="ui-label">评估结果</label>
        <pre id="js-eval-out" class="ui-pre">-</pre>
      </div>
    </div>

    <div class="ui-card">
      <div class="ui-blocktitle">五、交易事实回流</div>

      <div class="ui-row">
        <div class="ui-grow"><label class="ui-label">Date</label><input id="js-oc-date" class="ui-input" type="date" /></div>
        <div class="ui-grow">
          <label class="ui-label">Window</label>
          <select id="js-oc-window" class="ui-select">
            <option value="daily" selected>daily</option>
            <option value="weekly">weekly</option>
          </select>
        </div>
        <div class="ui-grow">
          <label class="ui-label">Lead Created (0/1)</label>
          <select id="js-oc-lead-created" class="ui-select"><option value="0" selected>0</option><option value="1">1</option></select>
        </div>
        <div class="ui-grow">
          <label class="ui-label">Paid (0/1)</label>
          <select id="js-oc-paid" class="ui-select"><option value="0" selected>0</option><option value="1">1</option></select>
        </div>
        <div class="ui-grow"><label class="ui-label">Amount (yuan)</label><input id="js-oc-amount" class="ui-input" type="number" min="0" step="1" value="0" /></div>
        <div class="ui-grow"><label class="ui-label">Leads Count</label><input id="js-oc-leads-count" class="ui-input" type="number" min="0" step="1" value="0" /></div>
      </div>

      <div class="ui-sep">
        <label class="ui-label">Note（可选）</label>
        <input id="js-oc-note" class="ui-input" placeholder="例如：微信加了2个；其中1个已付" />
      </div>

      <div class="ui-sep ui-row">
        <button id="js-outcome-submit-btn" class="ui-btn ui-btn--primary">提交交易记录</button>
        <button id="js-stats-btn" class="ui-btn">拉取 preset stats</button>
      </div>

      <div class="ui-sep">
        <label class="ui-label">交易记录回显</label>
        <pre id="js-outcome-out" class="ui-pre">-</pre>
      </div>

      <div class="ui-sep">
        <label class="ui-label">stats 输出（debug）</label>
        <pre id="js-stats-out" class="ui-pre">-</pre>
      </div>
    </div>

  </div>

  <script src="./client.js?v=client_v1"></script>
</body>
</html>
